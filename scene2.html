<html>
  <head>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    <!-- Вторая сцена -->
    <a-scene id="scene-container">
      <a-sky color="#87CEEB"></a-sky>
      <a-entity environment="preset: forest;"></a-entity>

      <!-- Камера -->
      <a-camera position="0 1 0" wasd-controls="enabled: false"></a-camera>

      <!-- Контроллеры Pico 4 -->
      <a-entity 
        id="left-controller" 
        laser-controls="hand: left" 
        position="0 1 0" 
        raycaster="objects: .clickable; far: 10; lineColor: white; lineOpacity: 0.5">
      </a-entity>

      <a-entity 
        id="right-controller" 
        laser-controls="hand: right" 
        position="0 1 0" 
        raycaster="objects: .clickable; far: 10; lineColor: white; lineOpacity: 0.5">
      </a-entity>

      <!-- Текст приветствия -->
      <a-text 
        value="Hi" 
        color="red" 
        align="center" 
        position="0 1.5 -2" 
        width="4">
      </a-text>

      <!-- Кнопка -->
      <a-entity position="0 1 -2">
        <a-plane id="button1" class="clickable" width="1" height="0.4" color="#008CBA" hoverable>
        </a-plane>
        <a-text value="Next" align="center" color="white" position="0 0 0.01"></a-text>
      </a-entity>

    </a-scene>

    <script>
      AFRAME.registerComponent('hoverable', {
        init: function () {
          var el = this.el;
          el.addEventListener('mouseenter', function () {
            el.setAttribute('color', '#005F7F');
          });
          el.addEventListener('mouseleave', function () {
            el.setAttribute('color', '#008CBA');
          });
        }
      });

      document.querySelector("#button1").addEventListener("click", function () {
        fetch("scene1.html")
          .then(response => response.text())
          .then(html => {
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, "text/html");
            const newSceneContent = doc.querySelector("a-scene").innerHTML;
            
            // Очищаем текущую сцену, кроме камеры
            let scene = document.querySelector("#scene-container");
            scene.innerHTML = ''; 

            // Добавляем новый контент
            scene.insertAdjacentHTML("beforeend", newSceneContent);
          })
          .catch(err => console.error("Ошибка загрузки сцены:", err));
      });
    </script>

  </body>
</html>